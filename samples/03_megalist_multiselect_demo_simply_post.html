<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Megalist Multiselect</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="../lib/jquery-1.7.1.js"></script>
    <script src="../lib/modernizr.custom.js"></script>
    <script src="../src/megalist-multiselect.js"></script>
    <link rel="stylesheet" type="text/css" href="../src/megalist-multiselect.css" />

    <link href="../lib/google-code-prettify/prettify.css" rel="stylesheet">
    <script src="../lib/google-code-prettify/prettify.js"></script>
    <script src="../lib/raf.js"></script>
    <script>
    $(document).ready(function() {
        var options = {
            PLACEHOLDER_TEXT: "Search Items",
            BUILD_FULL_POST: false
        };
        $('#my_megalist').attr(
            'data-provider-src', '[' + createDataProvider().join(',') + ']'
        );
        $('#my_megalist').attr('data-provider-dst', "[]");
        $('#my_megalist').megalist(options);

        $('#show-post-data').click(function() {
            $('#post-data-preview').val(
                decodeURIComponent($('input[name=my_megalist]').serialize())
            );
        });
    });

    function createDataProvider() {
        var result = [],
            quantity = 50;
        for (x = 0; x < quantity; x++) {
            result.push(
                '{ "label": "item ' + x + '", "listValue":' + x + '}'
            );
        }
        return result;
    }
    </script>

</head>

<body>
    <h3>Megalist Multiselect Demo - simply POST</h3>

    <p>
        This list generates POST data as list of elements seperated by comma.
        Click the "Show POST data" button to see the generated data.
    </p>

    <div id="my_megalist"></div>

    <button id="show-post-data">Show POST data</button>
    <br />
    <textarea id="post-data-preview" cols="60" rows="2"></textarea>

    <p>
        First create the HTML Structure, then instantiate the list via javascript, and add an event handler:
    </p>
    <h4>Markup</h4>
    <pre class="prettyprint linenums">
          &lt;div id=&quot;my_megalist&quot; &gt;&lt;/div&gt;
    </pre>

    <h4>Script</h4>
    <pre class="prettyprint linenums">
    $(document).ready(function() {
        var options = {
            PLACEHOLDER_TEXT: "Search Items",
            BUILD_FULL_POST: false
        };
        $('#my_megalist').attr(
            'data-provider-src', '[' + createDataProvider().join(',') + ']'
        );
        $('#my_megalist').attr('data-provider-dst', "[]");
        $('#my_megalist').megalist(options);
    });

    function createDataProvider() {
        var result = [],
            quantity = 50;
        for (x = 0; x &lt; quantity; x++) {
            result.push(
                '{ "label": "item ' + x + '", "listValue":' + x + '}'
            );
        }
        return result;
    }
    </pre>
</body>

</html>
