<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Megalist Multiselect</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="../lib/jquery-1.7.1.js"></script>
    <script src="../lib/modernizr.custom.js"></script>
    <script src="../src/megalist-multiselect.js"></script>
    <link rel="stylesheet" type="text/css" href="../src/megalist-multiselect.css" />

    <link href="../lib/google-code-prettify/prettify.css" rel="stylesheet">
    <script src="../lib/google-code-prettify/prettify.js"></script>
    <script src="../lib/raf.js"></script>
    <script>
    $(document).ready(function() {
        var options = {
            PLACEHOLDER_TEXT: "Search Items"
        },
            select = "<select multiple> " + createDataProviderSelect().join('') + " </select>";

        $('#my_megalist').attr('data-provider-src', select);
        $('#my_megalist').attr('data-provider-dst', select);
        $('#my_megalist').megalist(options);
    });

    function createDataProviderSelect() {
        var result = [],
            quantity = 1000,
            selected;
        for (x = 0; x < quantity; x++) {
            if (Math.random() > 0.95) {
                selected = 'selected';
            } else {
                selected = '';
            }
            result.push(
                '<option value="' + x + '"' + selected + ' > item ' + x + '</option>'
            );
        }
        return result;
    }
    </script>

</head>

<body>
    <h3>Megalist Multiselect Demo - select tag data provider</h3>
    <p>This list has 1000 items generated from select input:</p>

    <div id="my_megalist"></div>

    <p>
        First create the HTML Structure, then instantiate the list via javascript, and add an event handler:
    </p>

    <h4>Markup</h4>
    <pre class="prettyprint linenums">
          &lt;div id=&quot;my_megalist&quot; &gt;&lt;/div&gt;
      </pre>

    <h4>Script</h4>
    <pre class="prettyprint linenums">
    $(document).ready(function() {
        var options = {
            PLACEHOLDER_TEXT: "Search Items"
        },
            select = "&lt;select multiple&gt; " + createDataProviderSelect().join('') + " &lt;/select&gt;";

        $('#my_megalist').attr('data-provider-src', select);
        $('#my_megalist').attr('data-provider-dst', select);
        $('#my_megalist').megalist(options);
    });

    function createDataProviderSelect() {
        var result = [],
            quantity = 1000,
            selected;
        for (x = 0; x &lt; quantity; x++) {
            if (Math.random() &gt; 0.95) {
                selected = 'selected';
            } else {
                selected = '';
            }
            result.push(
                '&lt;option value="' + x + '"' + selected + ' &gt; item ' + x + '&lt;/option&gt;'
            );
        }
        return result;
    }
    </pre>

</body>

</html>
