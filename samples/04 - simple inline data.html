<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Megalist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="../lib/jquery-1.7.1.js"></script>
    <script src="../src/megalist.js"></script>
    <link href="../src/megalist.css" rel="stylesheet" type="text/css" >
    
    <link href="../lib/google-code-prettify/prettify.css" rel="stylesheet">
    <script src="../lib/google-code-prettify/prettify.js"></script>
    <script src="../lib/raf.js"></script>
      
    <script>
        $(document).ready( function() {
            $('.megalist').megalist();
            //console.log($('#myList_src').megalist('getDataProvider')[0].result);
            $('#myList_src').on('change', function(event){
                var message = "selected index: "+event.selectedIndex+"\n"+ 
                              "selected item: "+event.srcElement.get()[0].outerHTML;
                alert( message ); 
            })
            $('#myList_src').megalist('setDataProvider', createDataProvider() );
            $('#myList_src').on('move', function(event){
                var message = "moving selected index: "+event.selectedIndex+"\n"+
                              "selected item: "+event.srcElement.get()[0].outerHTML;
                alert( message );

            })
        });

        function createDataProvider() {
            var result = [];
            for ( var x=0; x<100000; x++ ) {
                result.push('{"label": "item ' + x + '", "list-value": "'+x+'"}');
            }
            return result;
        }

    </script>
      
  </head>

  <body >

      <h3>Declarative Markup</h3>
      <p>This list has 50 items as &lt;LI&gt; elements, created by declarative inline HTML markup:</p>
      <div class="megalist" id="myList_src" >
        <ul>
            <li list-value="0">item 0</li> <li list-value="1">item 1</li> <li list-value="2">item 2</li> <li list-value="3">item 3</li> <li list-value="4">item 4</li> <li list-value="5">item 5</li>
            <li list-value="6">item 6</li> <li list-value="7">item 7</li> <li list-value="8">item 8</li> <li list-value="9">item 9</li><li list-value="10">item 10</li>
            <li list-value="11">item 11</li> <li list-value="12">item 12</li> <li list-value="13">item 13</li> <li list-value="14">item 14</li> <li list-value="15">item 15</li>
        </ul>
      </div>
      <div class="megalist" id="myList_dst" ></div>
      <p>First create the HTML Structure, then instantiate the list via javascript, and add an event handler:</p>
      <h4>Markup</h4>
      <pre class="prettyprint linenums">
&lt;div class="megalist" id="myList" &gt;
&lt;ul&gt;
    &lt;li&gt;item 0&lt;/li&gt; &lt;li&gt;item 1&lt;/li&gt; &lt;li&gt;item 2&lt;/li&gt; &lt;li&gt;item 3&lt;/li&gt; &lt;li&gt;item 4&lt;/li&gt; &lt;li&gt;item 5&lt;/li&gt; &lt;li&gt;item 6&lt;/li&gt; &lt;li&gt;item 7&lt;/li&gt; &lt;li&gt;item 8&lt;/li&gt; &lt;li&gt;item 9&lt;/li&gt; 
&lt;/ul&gt;
&lt;/div&gt;
      </pre>
      <h4>Script</h4>
      <pre class="prettyprint linenums">$('#myList').megalist()
    $('#myList').on('change', function(event){ 
    var message = "selected index: "+event.selectedIndex+"\n"+ 
                  "selected item: "+event.srcElement.get()[0].outerHTML;
    alert( message ); 
})</pre>

         



  </body>
</html>
